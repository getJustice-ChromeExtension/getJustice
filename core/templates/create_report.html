{% extends 'base.html' %}

{% load static %}

{% block header %}

{% if messages %}
  {% for message in messages %}
      {{ message }}
  {% endfor %}
{% endif %}

{% endblock header %}

{% block content %}
<script src="{% static 'js/report.js' %}" defer></script>

<!-- ***list of subjects*** -->
<div class="container">
    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
    <h4> Type of Crime </h4>
        <div>
            <button id="hate-crime-button" class="subject-button" data-type="Hate Crime">Hate Crime</button>
        </div>
        <div>
            <button id="police-brut-button" class="subject-button" data-type="Police Brutality">Police Brutality</button>
        </div>
        <div>
            <button id="civ-rights-violate-button" class="subject-button" data-type="Civil Right Violation">Civil Rights Violation</button>
        </div>
    </div>
</div>


<!-- ***list of recipients*** -->
<div class="container">
    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
        <div id="address-wrapper">
            <h4> Who would you like to send your report to? </h4>
                <p>Optional: deselect any groups you would not like to include in your email</p>
            <div>
                <button id="mayor-button" class="email-button hate-crime" data-type="mayor@mayor.gov">Mayor of Durham</button>
            </div>
            <div>
                <button id="spcl-button" class="email-button hate-crime" data-type="SPCL@SPLC.gov">Southern Poverty Law Center</button>
            </div>
            <div>
                <button id="local-media-button" class="email-button police-brut" data-type="localMedia@localMedia.gov">Local Media</button>
            </div>
            <div>
                <button id="scsj-button" class="email-button police-brut" data-type="scsj@scsj.gov">Southern Coalition for Social Justice</button>
            </div>
            <div>
                <button id="naacp-button" class="email-button civ-rights" data-type="naacp@naacp.gov">NAACP</button>
            </div>
            <div>
                <button id="aclu-button" class="email-button civ-rights" data-type="aclu@aclu.gov">ACLU</button>
            </div>
        </div>
    </div>
</div>

<!-- ***report form*** -->
<div class="container text-center">
    <form action="{% url 'report' %}" id="report-form" method="POST" class="form-group">
            {% csrf_token %} 
        <div class="form-group">
            <input type="text" name="send_to" class="form-control" id="email-address" maxlength="500" placeholder="Email Recipients" required readonly>
        </div>
        <div class="form-group">
            <input type="text" name="reply_to" class="form-control" id="cc-address" maxlength="500" placeholder="CC" readonly>
        </div>
        <div class="form-group">
            <input type="text" name="subject" class="form-control" id="subject" maxlength="500" placeholder="Subject" required>
        </div>
        <div class="form-group">
            <textarea class="form-control" name="message" id="email-body" maxlength="5000" cols="40" rows="5" placeholder="Additional details about the incident(optional)" required>
            I am a concerned citizen who wishes to raise this issue of civil injustice that I have become aware of. I request you to take up this matter seriously and hope that my concerns, as well as those of others involved in this matter of public importance, will be addressed by you at the earliest.  I have included a screenshot with more information about the crime below.

            sincerely,
            </textarea>

        </div>  
        <div>
            <input type="hidden" id="screenshot-data" name="screenshot" value="">
        </div>
            <button type="submit" class="btn btn-danger">Submit</button>
    </form>

    <div class="form-group">
        <input type="image" class="form-control-file img-thumbnail" id="new-screenshot" width="384" height="256" src="#"
            disabled>
        <label for="exampleFormControlFile1">Image/screenshot</label>
    </div>
</div>
{% endblock %}
